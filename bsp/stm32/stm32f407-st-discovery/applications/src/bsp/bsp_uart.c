/*
 * @*: ***************************************************************************************
 * @Description: 
 * @version: 
 * @Author: liwei
 * @Date: 2019-10-24 13:03:33
 * @LastEditTime: 2019-11-04 19:04:01
 * @**: **************************************************************************************/
/********************************************************************************************
头文件
********************************************************************************************/
#include "../../inc/bsp/bsp_uart.h"
/********************************************************************************************
宏定义
********************************************************************************************/
/********************************************************************************************
变量定义
********************************************************************************************/


/********************************************************************************************
函数申明
********************************************************************************************/


/*** @ : ***************************************************************************************
 * @name: 
 * @describe: uart1接收数据
 * @param : 
 * @return: 
 * @  : ****************************************************************************************/
void uart1_re_data( char *re_data)
{
    struct rx_msg msg;
    rt_err_t result;
    

    rt_memset(&msg, 0, sizeof(msg));
    
    //............................ 从消息队列中读取消息.............................
    
    result = rt_mq_recv(&rx_mq1, &msg, sizeof(msg), 500); // 超时时间设置为500ms
    if (result == RT_EOK) //正确
    {
        //............................... 从串口读取数据................................
        rt_device_read(msg.dev, 0, re_data, msg.size);//  将UART1设备中的msg.size个字节的数据读取到rx_buffer中  
       
       // rt_kprintf("%s\n",rx_buffer);   /* 打印数据 */
    }

    return re_data
}

char *bsp_read_4g_data(char *re_4g_data )
{
	int ret_len = 0;
	
	ret_len = read(fd_uart2, re_4g_data, 100); 				//一次读取的个数1  
	if(ret_len < 0)
	{
		printf("read re_4g data failed!");
	}
	return re_4g_data;
}
